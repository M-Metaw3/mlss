import{W as _e,r as E,X as Be,Y as ge,Z as ye,y as de,C as Oe,f as pe,$ as be,a0 as A,a1 as Pe,I as ke,v as he,u as Se,g as z,o as y,c as T,h as D,j,w as U,b as Y,T as ue,O as fe,a as P,t as G,i as M,F as V,m as Z,N as te,a2 as Re,a3 as Le,a4 as F,a5 as se,U as Ne,P as Ie,x as je,p as De,a6 as $e,Q as Me}from"./index-PF4Eq7D6.js";import{h as Q}from"./hasPermission-CVzDC8fh.js";import{c as ze,a as Ae}from"./index.esm-Bil5A8ED.js";import{c as qe}from"./checkPermission-Ceto9Xa7.js";const Ee=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function X(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function J(t,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:X(e[n])&&X(t[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?t[n]=e[n]:J(t[n],e[n]):t[n]=e[n]})}function we(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function xe(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Ce(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Te(t){t===void 0&&(t="");const e=t.split(" ").map(n=>n.trim()).filter(n=>!!n),r=[];return e.forEach(n=>{r.indexOf(n)<0&&r.push(n)}),r.join(" ")}function Ve(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Fe(t){let{swiper:e,slides:r,passedParams:n,changedParams:i,nextEl:u,prevEl:d,scrollbarEl:p,paginationEl:a}=t;const m=i.filter(s=>s!=="children"&&s!=="direction"&&s!=="wrapperClass"),{params:l,pagination:f,navigation:C,scrollbar:x,virtual:o,thumbs:c}=e;let h,v,S,B,R,L,$,N;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&l.thumbs&&!l.thumbs.swiper&&(h=!0),i.includes("controller")&&n.controller&&n.controller.control&&l.controller&&!l.controller.control&&(v=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(l.pagination||l.pagination===!1)&&f&&!f.el&&(S=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||p)&&(l.scrollbar||l.scrollbar===!1)&&x&&!x.el&&(B=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||d)&&(n.navigation.nextEl||u)&&(l.navigation||l.navigation===!1)&&C&&!C.prevEl&&!C.nextEl&&(R=!0);const _=s=>{e[s]&&(e[s].destroy(),s==="navigation"?(e.isElement&&(e[s].prevEl.remove(),e[s].nextEl.remove()),l[s].prevEl=void 0,l[s].nextEl=void 0,e[s].prevEl=void 0,e[s].nextEl=void 0):(e.isElement&&e[s].el.remove(),l[s].el=void 0,e[s].el=void 0))};i.includes("loop")&&e.isElement&&(l.loop&&!n.loop?L=!0:!l.loop&&n.loop?$=!0:N=!0),m.forEach(s=>{if(X(l[s])&&X(n[s]))Object.assign(l[s],n[s]),(s==="navigation"||s==="pagination"||s==="scrollbar")&&"enabled"in n[s]&&!n[s].enabled&&_(s);else{const k=n[s];(k===!0||k===!1)&&(s==="navigation"||s==="pagination"||s==="scrollbar")?k===!1&&_(s):l[s]=n[s]}}),m.includes("controller")&&!v&&e.controller&&e.controller.control&&l.controller&&l.controller.control&&(e.controller.control=l.controller.control),i.includes("children")&&r&&o&&l.virtual.enabled?(o.slides=r,o.update(!0)):i.includes("virtual")&&o&&l.virtual.enabled&&(r&&(o.slides=r),o.update(!0)),i.includes("children")&&r&&l.loop&&(N=!0),h&&c.init()&&c.update(!0),v&&(e.controller.control=l.controller.control),S&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-pagination"),a.part.add("pagination"),e.el.appendChild(a)),a&&(l.pagination.el=a),f.init(),f.render(),f.update()),B&&(e.isElement&&(!p||typeof p=="string")&&(p=document.createElement("div"),p.classList.add("swiper-scrollbar"),p.part.add("scrollbar"),e.el.appendChild(p)),p&&(l.scrollbar.el=p),x.init(),x.updateSize(),x.setTranslate()),R&&(e.isElement&&((!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-next"),u.innerHTML=e.hostEl.constructor.nextButtonSvg,u.part.add("button-next"),e.el.appendChild(u)),(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-button-prev"),d.innerHTML=e.hostEl.constructor.prevButtonSvg,d.part.add("button-prev"),e.el.appendChild(d))),u&&(l.navigation.nextEl=u),d&&(l.navigation.prevEl=d),C.init(),C.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&e.changeDirection(n.direction,!1),(L||N)&&e.loopDestroy(),($||N)&&e.loopCreate(),e.update()}function ce(t,e){t===void 0&&(t={});const r={on:{}},n={},i={};J(r,_e),r._emitClasses=!0,r.init=!1;const u={},d=Ee.map(a=>a.replace(/_/,"")),p=Object.assign({},t);return Object.keys(p).forEach(a=>{typeof t[a]>"u"||(d.indexOf(a)>=0?X(t[a])?(r[a]={},i[a]={},J(r[a],t[a]),J(i[a],t[a])):(r[a]=t[a],i[a]=t[a]):a.search(/on[A-Z]/)===0&&typeof t[a]=="function"?r.on[`${a[2].toLowerCase()}${a.substr(3)}`]=t[a]:u[a]=t[a])}),["navigation","pagination","scrollbar"].forEach(a=>{r[a]===!0&&(r[a]={}),r[a]===!1&&delete r[a]}),{params:r,passedParams:i,rest:u,events:n}}function Ue(t,e){let{el:r,nextEl:n,prevEl:i,paginationEl:u,scrollbarEl:d,swiper:p}=t;we(e)&&n&&i&&(p.params.navigation.nextEl=n,p.originalParams.navigation.nextEl=n,p.params.navigation.prevEl=i,p.originalParams.navigation.prevEl=i),xe(e)&&u&&(p.params.pagination.el=u,p.originalParams.pagination.el=u),Ce(e)&&d&&(p.params.scrollbar.el=d,p.originalParams.scrollbar.el=d),p.init(r)}function He(t,e,r,n,i){const u=[];if(!e)return u;const d=a=>{u.indexOf(a)<0&&u.push(a)};if(r&&n){const a=n.map(i),m=r.map(i);a.join("")!==m.join("")&&d("children"),n.length!==r.length&&d("children")}return Ee.filter(a=>a[0]==="_").map(a=>a.replace(/_/,"")).forEach(a=>{if(a in t&&a in e)if(X(t[a])&&X(e[a])){const m=Object.keys(t[a]),l=Object.keys(e[a]);m.length!==l.length?d(a):(m.forEach(f=>{t[a][f]!==e[a][f]&&d(a)}),l.forEach(f=>{t[a][f]!==e[a][f]&&d(a)}))}else t[a]!==e[a]&&d(a)}),u}const We=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function re(t,e,r){t===void 0&&(t={});const n=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},u=(d,p)=>{Array.isArray(d)&&d.forEach(a=>{const m=typeof a.type=="symbol";p==="default"&&(p="container-end"),m&&a.children?u(a.children,p):a.type&&(a.type.name==="SwiperSlide"||a.type.name==="AsyncComponentWrapper")||a.componentOptions&&a.componentOptions.tag==="SwiperSlide"?n.push(a):i[p]&&i[p].push(a)})};return Object.keys(t).forEach(d=>{if(typeof t[d]!="function")return;const p=t[d]();u(p,d)}),r.value=e.value,e.value=n,{slides:n,slots:i}}function Ge(t,e,r){if(!r)return null;const n=l=>{let f=l;return l<0?f=e.length+l:f>=e.length&&(f=f-e.length),f},i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:u,to:d}=r,p=t.value.params.loop?-e.length:0,a=t.value.params.loop?e.length*2:e.length,m=[];for(let l=p;l<a;l+=1)l>=u&&l<=d&&m.length<e.length&&m.push(e[n(l)]);return m.map(l=>{if(l.props||(l.props={}),l.props.style||(l.props.style={}),l.props.swiperRef=t,l.props.style=i,l.type)return A(l.type,{...l.props},l.children);if(l.componentOptions)return A(l.componentOptions.Ctor,{...l.props},l.componentOptions.children)})}const Xe={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","breakpointsBase","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:r,emit:n}=e;const{tag:i,wrapperTag:u}=t,d=E("swiper"),p=E(null),a=E(!1),m=E(!1),l=E(null),f=E(null),C=E(null),x={value:[]},o={value:[]},c=E(null),h=E(null),v=E(null),S=E(null),{params:B,passedParams:R}=ce(t);re(r,x,o),C.value=R,o.value=x.value;const L=()=>{re(r,x,o),a.value=!0};B.onAny=function(_){for(var s=arguments.length,k=new Array(s>1?s-1:0),g=1;g<s;g++)k[g-1]=arguments[g];n(_,...k)},Object.assign(B.on,{_beforeBreakpoint:L,_containerClasses(_,s){d.value=s}});const $={...B};if(delete $.wrapperClass,f.value=new Be($),f.value.virtual&&f.value.params.virtual.enabled){f.value.virtual.slides=x.value;const _={cache:!1,slides:x.value,renderExternal:s=>{p.value=s},renderExternalUpdate:!1};J(f.value.params.virtual,_),J(f.value.originalParams.virtual,_)}ge(()=>{!m.value&&f.value&&(f.value.emitSlidesClasses(),m.value=!0);const{passedParams:_}=ce(t),s=He(_,C.value,x.value,o.value,k=>k.props&&k.props.key);C.value=_,(s.length||a.value)&&f.value&&!f.value.destroyed&&Fe({swiper:f.value,slides:x.value,passedParams:_,changedParams:s,nextEl:c.value,prevEl:h.value,scrollbarEl:S.value,paginationEl:v.value}),a.value=!1}),ye("swiper",f),de(p,()=>{Oe(()=>{We(f.value)})}),pe(()=>{l.value&&(Ue({el:l.value,nextEl:c.value,prevEl:h.value,paginationEl:v.value,scrollbarEl:S.value,swiper:f.value},B),n("swiper",f.value))}),be(()=>{f.value&&!f.value.destroyed&&f.value.destroy(!0,!1)});function N(_){return B.virtual?Ge(f,_,p.value):(_.forEach((s,k)=>{s.props||(s.props={}),s.props.swiperRef=f,s.props.swiperSlideIndex=k}),_)}return()=>{const{slides:_,slots:s}=re(r,x,o);return A(i,{ref:l,class:Te(d.value)},[s["container-start"],A(u,{class:Ve(B.wrapperClass)},[s["wrapper-start"],N(_),s["wrapper-end"]]),we(t)&&[A("div",{ref:h,class:"swiper-button-prev"}),A("div",{ref:c,class:"swiper-button-next"})],Ce(t)&&A("div",{ref:S,class:"swiper-scrollbar"}),xe(t)&&A("div",{ref:v,class:"swiper-pagination"}),s["container-end"]])}}},ve={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:r}=e,n=!1;const{swiperRef:i}=t,u=E(null),d=E("swiper-slide"),p=E(!1);function a(f,C,x){C===u.value&&(d.value=x)}pe(()=>{!i||!i.value||(i.value.on("_slideClass",a),n=!0)}),Pe(()=>{n||!i||!i.value||(i.value.on("_slideClass",a),n=!0)}),ge(()=>{!u.value||!i||!i.value||(typeof t.swiperSlideIndex<"u"&&(u.value.swiperSlideIndex=t.swiperSlideIndex),i.value.destroyed&&d.value!=="swiper-slide"&&(d.value="swiper-slide"))}),be(()=>{!i||!i.value||i.value.off("_slideClass",a)});const m=ke(()=>({isActive:d.value.indexOf("swiper-slide-active")>=0,isVisible:d.value.indexOf("swiper-slide-visible")>=0,isPrev:d.value.indexOf("swiper-slide-prev")>=0,isNext:d.value.indexOf("swiper-slide-next")>=0}));ye("swiperSlide",m);const l=()=>{p.value=!0};return()=>A(t.tag,{class:Te(`${d.value}`),ref:u,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:l},t.zoom?A("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[r.default&&r.default(m.value),t.lazy&&!p.value&&A("div",{class:"swiper-lazy-preloader"})]):[r.default&&r.default(m.value),t.lazy&&!p.value&&A("div",{class:"swiper-lazy-preloader"})])}},Ke={class:"dark:bg-block select-none rounded-xl border border-light-border bg-white px-2.5 py-3 font-medium dark:border-dark-border dark:bg-black"},Ze={class:"flex items-center justify-between gap-3 border-b-2 border-light-border py-3.5 text-light-title dark:border-dark-border dark:text-dark-title"},Qe={key:1},Ye={class:"flex items-center gap-3"},Je={key:2},et={key:5},tt={class:"flex flex-col items-start gap-3.5 pb-3 pt-5"},at=["title"],nt={key:1,class:"w-full text-center text-light-text dark:text-dark-text"},me={__name:"RoleCard",props:{data:{type:Object,required:!0,default:null},loading:{type:Boolean,required:!1,default:!1}},emits:["edit","refetch"],setup(t,{emit:e}){const r=t,n=e,i=he(),u=Se(),d=E(!1),p=E(!1);async function a(){p.value=!0,await te.post("/admin/roles-permissions/deleteRole",{id:r.data.id}).then(()=>{n("refetch"),i.success(u.t("TEXTS.roleDeletedSuccessfully")),d.value=!1}).catch(m=>{console.error(m),i.error(m.response.data.Error[0])}).finally(()=>p.value=!1)}return(m,l)=>{const f=z("Modal"),C=z("Skeleton"),x=z("SvgIcon");return y(),T(V,null,[(y(),D(fe,{to:"body"},[j(ue,{name:"fade"},{default:U(()=>[d.value?(y(),D(f,{key:0,title:m.$t("TITLES.deleteRole"),text:m.$t("TEXTS.confirmDeleteRole"),btnText:m.$t("BUTTONS.delete"),loading:p.value,onClose:l[0]||(l[0]=o=>d.value=!1),onHandleClick:a},null,8,["title","text","btnText","loading"])):Y("",!0)]),_:1})])),P("div",Ke,[P("div",Ze,[t.loading?(y(),D(C,{key:0,class:"h-[21px] w-3/4"})):(y(),T("span",Qe,G(t.data.name),1)),P("div",Ye,[t.loading?(y(),D(C,{key:0,class:"size-[30px] !rounded-full"})):M(Q)("Update Roles")?(y(),T("button",{key:1,type:"button",onClick:l[1]||(l[1]=o=>n("edit",t.data))},l[3]||(l[3]=[P("i",{class:"fa-solid fa-edit text-light-text dark:text-dark-text"},null,-1)]))):(y(),T("span",Je,"_")),t.loading?(y(),D(C,{key:3,class:"size-[30px] !rounded-full"})):M(Q)("Delete Roles")?(y(),T("button",{key:4,type:"button",onClick:l[2]||(l[2]=o=>d.value=!0)},l[4]||(l[4]=[P("i",{class:"fa-solid fa-trash-alt text-primary dark:text-dark-primary"},null,-1)]))):(y(),T("span",et,"_"))])]),P("div",tt,[t.loading?(y(),T(V,{key:0},Z(20,o=>P("div",{key:o,class:"flex w-full items-center justify-between gap-2"},[j(C,{class:"h-[20px] w-1/2"}),j(C,{class:"size-[24px] !rounded-full"})])),64)):Y("",!0),t.data.permissions?(y(),T(V,{key:1},[t.data.permissions.length?(y(!0),T(V,{key:0},Z(t.data.permissions,o=>(y(),T("div",{key:o.id,class:"flex w-full items-center justify-between gap-2"},[P("span",{class:"max-w-3/4 truncate text-light-text dark:text-dark-text",title:o.name},G(o.name),9,at),j(x,{icon:"check"})]))),128)):(y(),T("p",nt,G(m.$t("TEXTS.noPermissions")),1))],64)):Y("",!0)])])],64)}}};function lt(t,e,r,n){return t.params.createElements&&Object.keys(n).forEach(i=>{if(!r[i]&&r.auto===!0){let u=Re(t.el,`.${n[i]}`)[0];u||(u=Le("div",n[i]),u.className=n[i],t.el.append(u)),r[i]=u,e[i]=u}}),r}function it(t){let{swiper:e,extendParams:r,on:n,emit:i}=t;r({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function u(o){let c;return o&&typeof o=="string"&&e.isElement&&(c=e.el.querySelector(o),c)?c:(o&&(typeof o=="string"&&(c=[...document.querySelectorAll(o)]),e.params.uniqueNavElements&&typeof o=="string"&&c&&c.length>1&&e.el.querySelectorAll(o).length===1?c=e.el.querySelector(o):c&&c.length===1&&(c=c[0])),o&&!c?o:c)}function d(o,c){const h=e.params.navigation;o=F(o),o.forEach(v=>{v&&(v.classList[c?"add":"remove"](...h.disabledClass.split(" ")),v.tagName==="BUTTON"&&(v.disabled=c),e.params.watchOverflow&&e.enabled&&v.classList[e.isLocked?"add":"remove"](h.lockClass))})}function p(){const{nextEl:o,prevEl:c}=e.navigation;if(e.params.loop){d(c,!1),d(o,!1);return}d(c,e.isBeginning&&!e.params.rewind),d(o,e.isEnd&&!e.params.rewind)}function a(o){o.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function m(o){o.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function l(){const o=e.params.navigation;if(e.params.navigation=lt(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(o.nextEl||o.prevEl))return;let c=u(o.nextEl),h=u(o.prevEl);Object.assign(e.navigation,{nextEl:c,prevEl:h}),c=F(c),h=F(h);const v=(S,B)=>{S&&S.addEventListener("click",B==="next"?m:a),!e.enabled&&S&&S.classList.add(...o.lockClass.split(" "))};c.forEach(S=>v(S,"next")),h.forEach(S=>v(S,"prev"))}function f(){let{nextEl:o,prevEl:c}=e.navigation;o=F(o),c=F(c);const h=(v,S)=>{v.removeEventListener("click",S==="next"?m:a),v.classList.remove(...e.params.navigation.disabledClass.split(" "))};o.forEach(v=>h(v,"next")),c.forEach(v=>h(v,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?x():(l(),p())}),n("toEdge fromEdge lock unlock",()=>{p()}),n("destroy",()=>{f()}),n("enable disable",()=>{let{nextEl:o,prevEl:c}=e.navigation;if(o=F(o),c=F(c),e.enabled){p();return}[...o,...c].filter(h=>!!h).forEach(h=>h.classList.add(e.params.navigation.lockClass))}),n("click",(o,c)=>{let{nextEl:h,prevEl:v}=e.navigation;h=F(h),v=F(v);const S=c.target;let B=v.includes(S)||h.includes(S);if(e.isElement&&!B){const R=c.path||c.composedPath&&c.composedPath();R&&(B=R.find(L=>h.includes(L)||v.includes(L)))}if(e.params.navigation.hideOnClick&&!B){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===S||e.pagination.el.contains(S)))return;let R;h.length?R=h[0].classList.contains(e.params.navigation.hiddenClass):v.length&&(R=v[0].classList.contains(e.params.navigation.hiddenClass)),i(R===!0?"navigationShow":"navigationHide"),[...h,...v].filter(L=>!!L).forEach(L=>L.classList.toggle(e.params.navigation.hiddenClass))}});const C=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),l(),p()},x=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:C,disable:x,update:p,init:l,destroy:f})}function ot(t){let{swiper:e,extendParams:r,on:n,emit:i,params:u}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let d,p,a=u&&u.autoplay?u.autoplay.delay:3e3,m=u&&u.autoplay?u.autoplay.delay:3e3,l,f=new Date().getTime(),C,x,o,c,h,v,S;function B(w){!e||e.destroyed||!e.wrapperEl||w.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",B),!(S||w.detail&&w.detail.bySwiperTouchMove)&&k())}const R=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?C=!0:C&&(m=l,C=!1);const w=e.autoplay.paused?l:f+m-new Date().getTime();e.autoplay.timeLeft=w,i("autoplayTimeLeft",w,w/a),p=requestAnimationFrame(()=>{R()})},L=()=>{let w;return e.virtual&&e.params.virtual.enabled?w=e.slides.filter(I=>I.classList.contains("swiper-slide-active"))[0]:w=e.slides[e.activeIndex],w?parseInt(w.getAttribute("data-swiper-autoplay"),10):void 0},$=w=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(p),R();let q=typeof w>"u"?e.params.autoplay.delay:w;a=e.params.autoplay.delay,m=e.params.autoplay.delay;const I=L();!Number.isNaN(I)&&I>0&&typeof w>"u"&&(q=I,a=I,m=I),l=q;const W=e.params.speed,O=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(W,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,W,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(W,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,W,!0,!0),i("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{$()})))};return q>0?(clearTimeout(d),d=setTimeout(()=>{O()},q)):requestAnimationFrame(()=>{O()}),q},N=()=>{f=new Date().getTime(),e.autoplay.running=!0,$(),i("autoplayStart")},_=()=>{e.autoplay.running=!1,clearTimeout(d),cancelAnimationFrame(p),i("autoplayStop")},s=(w,q)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(d),w||(v=!0);const I=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",B):k()};if(e.autoplay.paused=!0,q){h&&(l=e.params.autoplay.delay),h=!1,I();return}l=(l||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&l<0&&!e.params.loop)&&(l<0&&(l=0),I())},k=()=>{e.isEnd&&l<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),v?(v=!1,$(l)):$(),e.autoplay.paused=!1,i("autoplayResume"))},g=()=>{if(e.destroyed||!e.autoplay.running)return;const w=se();w.visibilityState==="hidden"&&(v=!0,s(!0)),w.visibilityState==="visible"&&k()},b=w=>{w.pointerType==="mouse"&&(v=!0,S=!0,!(e.animating||e.autoplay.paused)&&s(!0))},H=w=>{w.pointerType==="mouse"&&(S=!1,e.autoplay.paused&&k())},K=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",b),e.el.addEventListener("pointerleave",H))},ne=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",b),e.el.removeEventListener("pointerleave",H))},le=()=>{se().addEventListener("visibilitychange",g)},ie=()=>{se().removeEventListener("visibilitychange",g)};n("init",()=>{e.params.autoplay.enabled&&(K(),le(),N())}),n("destroy",()=>{ne(),ie(),e.autoplay.running&&_()}),n("_freeModeStaticRelease",()=>{(o||v)&&k()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?_():s(!0,!0)}),n("beforeTransitionStart",(w,q,I)=>{e.destroyed||!e.autoplay.running||(I||!e.params.autoplay.disableOnInteraction?s(!0,!0):_())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){_();return}x=!0,o=!1,v=!1,c=setTimeout(()=>{v=!0,o=!0,s(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!x)){if(clearTimeout(c),clearTimeout(d),e.params.autoplay.disableOnInteraction){o=!1,x=!1;return}o&&e.params.cssMode&&k(),o=!1,x=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||(h=!0)}),Object.assign(e.autoplay,{start:N,stop:_,pause:s,resume:k})}const st={class:"mb-3 font-medium text-light-text dark:text-dark-text"},rt={class:"flex flex-wrap items-center gap-3 text-light-text dark:text-dark-text"},dt=["for"],ut={class:"capitalize"},ft=["id","value"],pt={class:"mb-5 grid grid-cols-12 gap-3 lg:mb-7 lg:gap-5"},ct={class:"col-span-12 xl:col-span-7"},vt={key:0,class:"flex items-center justify-center rounded-[10px] bg-white py-10 dark:bg-transparent"},mt={key:0},gt={key:1,class:"flex items-center gap-3 pe-10 ps-3"},yt=["onClick"],bt={key:1},ht=["onClick"],St={key:3},Et={key:2,class:"px-5"},wt={key:1},xt={key:2,class:"text-center font-medium text-light-text dark:text-dark-text"},Ot={__name:"index",setup(t){Ne({validateOnBlur:!0,validateOnChange:!0,validateOnInput:!0,validateOnModelUpdate:!0});const e=Se(),r=Ie(),n=je(),i=he(),u=E(r.query.name||"");de(u,g=>{n.push({path:"/user-roles",query:Object.assign({},r.query,{name:g})})});const d=E(r.query.view||"table"),p={0:{slidesPerView:1},992:{slidesPerView:2.5},1200:{slidesPerView:3.2},1500:{slidesPerView:3.5}},a=E([]),m=E({columns:[{label:e.t("TITLES.control"),field:"control"},{label:e.t("LABELS.name"),field:"name"}],rows:[]}),l=E(0),f=E(!1);async function C(){f.value=!0;let g={operator:"or"};r.query.name?g.name=r.query.name:delete g.name,await te.post("/admin/roles-permissions/roles/getByFilter",{filters:{roles:g},page:1,page_size:9999,related_objects:["permissions"],related_objects_count:[]}).then(b=>{l.value=b.data.data.role.total,a.value=b.data.data.role.data,m.value.rows=b.data.data.role.data}).catch(b=>console.error(b)).finally(()=>f.value=!1)}async function x(){await te.get("/admin/roles-permissions/listPermissionsRoles").then(g=>{g.data.data.roles.length&&g.data.data.permissions.forEach(b=>{m.value.columns.push({label:e.locale.value==="ar"?b.name_ar:b.name,field:b.name})}),v.value=g.data.data.permissions}).catch(g=>console.error(g))}const o=E(!1),c=E({}),h=ze().shape({name:Ae().required(e.t("ERRORS.nameRequired"))}),v=E([]),S=E([]),B=E(null);function R(g){B.value=g.id,c.value={name:g.name},S.value=g.permissions.map(b=>b.name),o.value=!0}const L=E(!1);async function $(g){if(!S.value.length)i.error(e.t("ERRORS.selectOnlyOnePermission"));else{L.value=!0;let b;const H={name:g.name,permissions:S.value};B.value?(b="/admin/roles-permissions/updateRole",H.id=B.value):b="/admin/roles-permissions/createRole",await te.post(b,H).then(()=>{i.success(e.t(`TEXTS.${B.value?"roleUpdatedSuccessfully":"roleAddedSuccessfully"}`)),o.value=!1,S.value=[],c.value={},B.value=null,x(),C()}).catch(K=>{console.error(K),i.error(K.response.data.Error[0])}).finally(()=>L.value=!1)}}const N=E(!1),_=E(null),s=E(!1);async function k(){s.value=!0,await te.post("/admin/roles-permissions/deleteRole",{id:_.value}).then(()=>{C(),i.success(e.t("TEXTS.roleDeletedSuccessfully")),N.value=!1}).catch(g=>{console.error(g),i.error(g.response.data.Error[0])}).finally(()=>s.value=!1)}return de(()=>r.query,()=>{C()},{deep:!0,immediate:!0}),pe(()=>{qe("Filter Roles Permissions"),Q("List All Roles & Permissions")&&x()}),(g,b)=>{const H=z("Modal"),K=z("Background"),ne=z("ValidInput"),le=z("FormModal"),ie=z("Search"),w=z("Loader"),q=z("SvgIcon"),I=z("Table"),W=z("Card");return y(),T(V,null,[(y(),D(fe,{to:"body"},[j(ue,{name:"fade"},{default:U(()=>[N.value?(y(),D(H,{key:0,title:g.$t("TITLES.deleteRole"),text:g.$t("TEXTS.confirmDeleteRole"),btnText:g.$t("BUTTONS.delete"),loading:s.value,onClose:b[0]||(b[0]=O=>N.value=!1),onHandleClick:k},null,8,["title","text","btnText","loading"])):Y("",!0)]),_:1})])),(y(),D(fe,{to:"body"},[o.value?(y(),D(K,{key:0})):Y("",!0),j(ue,{name:"translate"},{default:U(()=>[o.value?(y(),D(le,{key:0,title:g.$t(`TITLES.${Object.keys(c.value).length?"editRole":"addNewRole"}`),loading:L.value,initialValues:c.value,schema:M(h),btnText:g.$t(`${Object.keys(c.value).length?"TITLES.editRole":"BUTTONS.saveRole"}`),onClose:b[2]||(b[2]=O=>{o.value=!1,c.value={},S.value=[]}),onSubmit:$},{default:U(()=>[P("div",null,[j(ne,{id:"name",label:g.$t("LABELS.name"),class:"col-span-2 mb-5",placeholder:g.$t("INPUTS.namePlaceholder"),name:"name"},null,8,["label","placeholder"]),P("div",null,[P("h5",st,G(g.$t("TITLES.permissions")),1),P("div",rt,[(y(!0),T(V,null,Z(v.value,O=>(y(),T("label",{key:O.id,for:O.id,class:"flex cursor-pointer select-none items-center gap-3 rounded-xl border border-light-border px-2.5 py-3 dark:border-dark-border"},[P("span",ut,G(M(e).locale.value==="ar"?O.name_ar:O.name),1),De(P("input",{type:"checkbox",id:O.id,value:O.name,"onUpdate:modelValue":b[1]||(b[1]=ae=>S.value=ae),class:"size-[15px]"},null,8,ft),[[$e,S.value]])],8,dt))),128))])])])]),_:1},8,["title","loading","initialValues","schema","btnText"])):Y("",!0)]),_:1})])),j(W,{number:l.value,button:M(Q)("Create Roles")?g.$t("BUTTONS.addRole"):"",onHandleClick:b[5]||(b[5]=O=>o.value=!0),loading:f.value},{default:U(()=>[P("div",pt,[P("div",ct,[j(ie,{placeholder:g.$t("INPUTS.userRolesSearch"),modelValue:u.value,"onUpdate:modelValue":b[3]||(b[3]=O=>u.value=O)},null,8,["placeholder","modelValue"])])]),d.value==="table"?(y(),T(V,{key:0},[f.value?(y(),T("div",vt,[j(w)])):(y(),D(I,{key:1,"is-slot-mode":!0,columns:m.value.columns,rows:m.value.rows,pagination:!1,"is-hide-paging":!0,class:"font-medium"},Me({_:2},[Z(m.value.columns,(O,ae)=>({name:O.field,fn:U(ee=>[O.label===g.$t("LABELS.name")?(y(),T("span",mt,G(ee.value.name),1)):O.field==="control"?(y(),T("div",gt,[M(Q)("Update Roles")?(y(),T("button",{key:0,type:"button",onClick:oe=>R(ee.value)},b[6]||(b[6]=[P("i",{class:"fa-solid fa-edit text-light-text dark:text-dark-text"},null,-1)]),8,yt)):(y(),T("span",bt,"_")),M(Q)("Delete Roles")?(y(),T("button",{key:2,type:"button",onClick:oe=>{_.value=ee.value.id,N.value=!0}},b[7]||(b[7]=[P("i",{class:"fa-solid fa-trash-alt text-primary dark:text-dark-primary"},null,-1)]),8,ht)):(y(),T("span",St,"_"))])):(y(),T("div",Et,[ee.value.permissions.some(oe=>oe.name===O.field)?(y(),D(q,{key:0,icon:"check"})):(y(),T("span",wt,"_"))]))])}))]),1032,["columns","rows"]))],64)):(y(),T(V,{key:1},[b[8]||(b[8]=P("div",{class:"mb-5 flex items-center justify-end gap-5"},[P("button",{class:"custom-prev flex size-[50px] items-center justify-center rounded-full border border-light-border bg-white text-light-title disabled:cursor-not-allowed disabled:opacity-60 dark:border-dark-border dark:bg-black dark:text-dark-title"},[P("i",{class:"fa-solid fa-angle-left"})]),P("button",{class:"custom-next flex size-[50px] items-center justify-center rounded-full border border-light-border bg-white text-light-title disabled:cursor-not-allowed disabled:opacity-60 dark:border-dark-border dark:bg-black dark:text-dark-title"},[P("i",{class:"fa-solid fa-angle-right"})])],-1)),j(M(Xe),{class:"mySwiper",breakpoints:p,spaceBetween:"15",modules:[M(it),M(ot)],autoplay:{delay:2500,disableOnInteraction:!1},navigation:{nextEl:".custom-next",prevEl:".custom-prev"}},{default:U(()=>[f.value?(y(),T(V,{key:0},Z(10,O=>j(M(ve),{key:O},{default:U(()=>[j(me,{loading:"",data:{}})]),_:2},1024)),64)):a.value.length?(y(!0),T(V,{key:1},Z(a.value,(O,ae)=>(y(),D(M(ve),{key:ae},{default:U(()=>[j(me,{data:O,onEdit:R,onRefetch:b[4]||(b[4]=ee=>C())},null,8,["data"])]),_:2},1024))),128)):(y(),T("p",xt,G(g.$t("TEXTS.noRolesAdded")),1))]),_:1},8,["modules"])],64))]),_:1},8,["number","button","loading"])],64)}}};export{Ot as default};
